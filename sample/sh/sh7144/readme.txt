==============================================================================
 Hyper Operating System V4 Advance
  sh7144用サンプル

                                            Copyright (C) 2008 by Project HOS
==============================================================================


＜概要＞
  お題は例によって、「哲学者の食事の問題」です。
  ５つのタスクを哲学者、５つのセマフォをフォークに見立てて、
動作します。

  哲学者はランダムな時間考え事をするとおもむろに両サイドの
フォークを取って食事を始めます。しかし左右どちらかの哲学者が
すでにフォークを使って食事をしていると、フォークが使えず
空腹状態になります。


＜環境＞
  ボード：Interface 2006年6月号付録基板＋メモリ増設環境

  ソフト：当方ルネサスのモニタプログラムをROMに焼いてます。
          (つまりは 外部SRAM(0x00400000)からベクタを配置です)

  コンパイラ：shc (ルネサスの評価版コンパイラ)
            もしくは
              sh-elf-gcc

  メイク：cygwinからGNU makeを使用
          (すいません、そのうち nmake とかの対応も考えます...)

  シリアル：38400bps 8bit ノンパリ ストップビット1bit でよいかと。


＜使い方＞
  GNU make が利用できる環境で

  shc の場合：  hos-v4a/sample/sh/sh7144/shc
  gcc の場合：  hos-v4a/sample/sh/sh7144/gcc


  に移動して、gmake -f gmake.mak MEMMAP=ram

  と打ち込みます。

  出来上がった、sample_ram.abs (shcの場合)や、sample.mot (gccの場合)を
メモリにロードして実行開始してください。

  ５人の哲学者がそれぞれ、考えたり、お腹を空かせたり、食事したりする様子が
シリアルに表示されれば成功です。


＜備考＞
  なお、MEMMAP=ram を指定しなければ、ROM動作用のファイルが
出来上がるはず(こちらは増設RAM不要)ですが、Flashの書き換え寿命もあり
当方は実験していません。


==============================================================================
 end of file
==============================================================================
